(this.webpackJsonpaviabit=this.webpackJsonpaviabit||[]).push([[0],{197:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),l=a(25),r=a.n(l),c=a(10),s=a(29),o=a(72),m=a(18),u=["dateFlight","timeWork","timeFlight","timeBlock","timeNight","timeBiologicalNight","flight","pinType","pin","type","takeoff","landing"],h=function(t,e){return Object.assign({},t,e)},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.map((function(t){return e?t.dateFlight.getFullYear():t.dateFlight.getMonth()}));return Object(m.a)(new Set(a))},g=function(t){return["\u042f\u041d\u0412","\u0424\u0415\u0412","\u041c\u0410\u0420","\u0410\u041f\u0420","\u041c\u0410\u0419","\u0418\u042e\u041d","\u0418\u042e\u041b","\u0410\u0412\u0413","\u0421\u0415\u041d","\u041e\u041a\u0422","\u041d\u041e\u042f","\u0414\u0415\u041a"][t]},f=function(t,e){return Math.floor(t+Math.random()*(e+1-t))};function _(t,e){return Math.floor(t+Math.random()*(e+1-t))}var p,F=function(){return{dateFlight:(t=new Date(2010,0,1),e=new Date,new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime()))),flight:"AB-33".concat(_(10,80)),pinType:"B-757-".concat(_(100,200)),pin:"XXXAK",timeFlight:_(25e3,26e3),timeBlock:_(27e3,28e3),timeNight:_(15e3,16e3),timeBiologicalNight:_(28e3,29e3),timeWork:_(37e3,38e3),type:_(0,1),takeoff:{name:"\u0422\u043e\u043c\u0441\u043a(\u0411\u043e\u0433\u0430\u0448\u0435\u0432\u043e)-".concat(_(1,9)),lat:56.55,long:85.2},landing:{name:"\u041d\u044f\u0447\u0430\u043d\u0433(\u041a\u0430\u043c\u0440\u0430\u043d\u044c \u0418\u043d\u0442\u043b)",lat:11.99805555,long:109.21944444}};var t,e},E=(p=20,new Array(p).fill("").map(F)).sort((function(t,e){return e.dateFlight-t.dateFlight})),v=function(t,e,a){var n=t.filter((function(t){return a?0===t.type:1===t.type})),i=n.slice(),l=n.filter((function(t){return t.dateFlight.getFullYear()===Number(e)})),r=function(t,a){return("\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===e?i:l).filter((function(e){return(t>12?e.dateFlight.getFullYear():e.dateFlight.getMonth())===t})).map((function(t){return t[a]})).reduce((function(t,e){return t+e}))},c=function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=e?i:l,Array.from(d(t,e)).map((function(a){return{dateFlight:t.find((function(t){return(e?t.dateFlight.getFullYear():t.dateFlight.getMonth())===a})).dateFlight,timeWork:r(a,"timeWork"),timeFlight:r(a,"timeFlight"),timeBlock:r(a,"timeBlock")}}))};return"\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===e?c(!0):c(!1).reverse()},N={flights:E,activeFlight:{year:"",value:"",isFactData:""},currentFlights:[]},y="LOAD_FLIGHTS",b="SET_ACTIVE_FLIGHT",k="SET_CURRENT_FLIGHTS",D=function(t){return{type:"LOAD_FLIGHTS",payload:t}},w=function(t,e,a){return{type:"SET_ACTIVE_FLIGHT",payload:{value:t,year:e,isFactData:a}}},O=function(t,e,a){return{type:k,payload:{year:t,value:e,isFactData:a}}},T=function(){return function(t,e,a){return a.get("/users?page=2").then((function(e){t(D((e.data.data,{dateFlight:new Date,flight:"\u041e\u0422\u0412\u0415\u0422_\u0421\u0415\u0420\u0412\u0415\u0420\u0410",pinType:"\u041e\u0422\u0412\u0415\u0422_\u0421\u0415\u0420\u0412\u0415\u0420\u0410",pin:"\u041e\u0422\u0412\u0415\u0422_\u0421\u0415\u0420\u0412\u0415\u0420\u0410",timeFlight:11111,timeBlock:11111,timeNight:11111,timeBiologicalNight:11111,timeWork:11111,type:0,takeoff:{name:"\u041e\u0422\u0412\u0415\u0422_\u0421\u0415\u0420\u0412\u0415\u0420\u0410",lat:56.55,long:85.2},landing:{name:"\u041e\u0422\u0412\u0415\u0422_\u041e\u0422_\u0421\u0415\u0420\u0412\u0415\u0420\u0410",lat:11.99805555,long:109.21944444}})))})).catch((function(t){throw t}))}},S=Object(c.c)({FLIGHTS:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return h(t,{flights:[].concat(Object(m.a)(t.flights),[e.payload])});case b:return h(t,{activeFlight:e.payload});case k:if("\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===e.payload.value){var a=t.flights.filter((function(t){return t.dateFlight.getFullYear()===Number(e.payload.year)&&t.type===(e.payload.isFactData?0:1)}));return h(t,{currentFlights:a})}var n=t.flights.filter((function(t){return t.dateFlight.getFullYear()===Number(e.payload.value)&&g(t.dateFlight.getMonth())===e.payload.year&&t.type===(e.payload.isFactData?0:1)}));return h(t,{currentFlights:n});default:return t}}}),H=(a(84),a(14)),j=a(2),C=(a(85),function(){return i.a.createElement("header",{className:"header"},i.a.createElement("nav",{className:"nav"},i.a.createElement("div",{className:"nav__logo"},"[Logo]"),i.a.createElement("div",{className:"nav__menu"},"[Menu]")))}),B=a(27),L=a(28),A=a(13),I=a(31),M=a(30),x=function(t){var e=t.data,a=t.activeYear,n=e.dateFlight,l=e.timeWork,r=e.timeFlight,c=e.timeBlock;return i.a.createElement("ul",{className:"main__card card"},i.a.createElement("li",{className:"card__item"},i.a.createElement(H.b,{onClick:function(e){t.clickHandler(e.target.textContent)},to:"/details"},"\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===a?n.getFullYear():g(n.getMonth()))),i.a.createElement("li",{className:"card__item"},l),i.a.createElement("li",{className:"card__item"},r),i.a.createElement("li",{className:"card__item"},c))},W=function(t){var e=t.isFactData;return i.a.createElement("div",{className:"checkbox-container"},i.a.createElement("input",{className:"checkbox",type:"checkbox",id:"checkbox",onChange:t.toggleHandler,autoFocus:!0,checked:e}),i.a.createElement("label",{className:"checkbox__label",htmlFor:"checkbox"},"\u041f\u043e \u0444\u0430\u043a\u0442\u0443"))},Y=function(t){var e=t.term,a=t.data,n=t.updateData;return i.a.createElement("div",{className:"searchbar"},i.a.createElement("input",{value:e,type:"text",className:"searchbar__control",placeholder:"\u041d\u0430\u0439\u0442\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0440\u0435\u0439\u0441\u0430...\u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 ab-3377",onChange:function(t){var e=t.target.value.toLowerCase(),i=a.filter((function(t){return t.flight.toString().toLowerCase().includes(e)}));n({data:i,term:e})}}))},G=function(t){Object(I.a)(a,t);var e=Object(M.a)(a);function a(t){var n;return Object(B.a)(this,a),(n=e.call(this,t)).state={value:"\u0412\u0441\u0435 \u0433\u043e\u0434\u0430",initialData:n.props.flights,data:n.props.flights,term:""},n._clickHandler=n._clickHandler.bind(Object(A.a)(n)),n.updateData=n.updateData.bind(Object(A.a)(n)),n}return Object(L.a)(a,[{key:"componentDidMount",value:function(){this.setState({data:this.state.initialData})}},{key:"updateData",value:function(t){this.setState(t)}},{key:"_clickHandler",value:function(t){this.props.setActiveFlight(t,this.state.value,this.props.isFactData),this.props.setCurrentFlights(t,this.state.value,this.props.isFactData)}},{key:"render",value:function(){var t,e,a=this;return i.a.createElement("main",{className:"main"},i.a.createElement("h1",{className:"main__title"},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043f\u043e \u043d\u0430\u043b\u0435\u0442\u0443 \u043a\u043e\u043c\u0430\u043d\u0434\u0438\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0448\u043d\u043e\u0433\u043e \u0441\u0443\u0434\u043d\u0430 \u0437\u0430","\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===this.state.value?" \u0432\u0441\xeb \u0432\u0440\u0435\u043c\u044f":" ".concat(this.state.value," \u0433\u043e\u0434"),i.a.createElement("div",null,"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e ",this.props.isFactData?"\u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u043c":"\u043f\u043b\u0430\u043d\u043e\u0432\u044b\u043c"," \u0440\u0435\u0439\u0441\u0430\u043c")),i.a.createElement(W,{toggleHandler:this.props.toggleHandler,isFactData:this.props.isFactData}),i.a.createElement(Y,{updateData:this.updateData,term:this.state.term,data:this.state.initialData}),i.a.createElement("div",{className:"main__container"},i.a.createElement("select",{value:this.state.value,className:"main__select",onChange:function(t){a.setState({value:t.target.value})}},i.a.createElement("option",null,"\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"),(t=this.props.flights,e=this.props.isFactData,Object(m.a)(new Set(t.filter((function(t){return e?0===t.type:1===t.type})).map((function(t){return t.dateFlight.getFullYear()})).sort((function(t,e){return e-t}))))).map((function(t){return i.a.createElement("option",{key:t},t)}))),i.a.createElement("ul",{className:"main__list"},i.a.createElement("li",{className:"main__item"},"TimeWork, \u0441"),i.a.createElement("li",{className:"main__item"},"TimeFlight, \u0441"),i.a.createElement("li",{className:"main__item"},"TimeBlock"))),v(this.state.data,this.state.value,this.props.isFactData).sort((function(t,e){return e.dateFlight-t.dateFlight})).map((function(t){return i.a.createElement(x,{key:t.dateFlight,data:t,activeYear:a.state.value,clickHandler:a._clickHandler})})),!v(this.props.flights,this.state.value,this.props.isFactData).length&&i.a.createElement("div",null,"\u0422\u0430\u043a\u0438\u0445 \u0440\u0435\u0439\u0441\u043e\u0432 \u043d\u0435\u0442!"))}}]),a}(i.a.Component),X=function(){return i.a.createElement("footer",{className:"footer"},i.a.createElement("ul",{className:"footer__list"},i.a.createElement("li",{className:"footer__item"},"[Copyright]"),i.a.createElement("li",{className:"footer__item"},"[\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438]"),i.a.createElement("li",{className:"footer__item"},"[\u0410\u0434\u0440\u0435\u0441]")))},R=a(73),U=function(t){var e=t.currentFlights,a={labels:["timeWork","timeFlight","timeBlock","timeNight","timeBiologicalNight"],datasets:[{barPercentage:.5,backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:1,data:u.slice(1,6).map((function(t){return e.map((function(e){return e[t]})).reduce((function(t,e){return t+e}),0)}))}]};return i.a.createElement("div",{className:"chart-container"},i.a.createElement(R.Bar,{data:a,options:{title:{display:!0,text:"\u0421\u0432\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0435\u0440\u0438\u043e\u0434",fontSize:20},legend:{display:!1}}}))},V=function(t){var e=t.currentFlights,a=u.slice(1,6).map((function(t){return e.map((function(e){return e[t]})).reduce((function(t,e){return t+e}),0)}));return i.a.createElement("tr",{className:"details__row"},i.a.createElement("td",{className:"details__item"},"\u0418\u0442\u043e\u0433\u043e"),a.map((function(t){return i.a.createElement("td",{key:t.toString(),className:"details__item"},t)})),[1,2,3,4,5,6].map((function(t){return i.a.createElement("td",{key:t,className:"details__item"},"___")})))},J=function(t){var e,a=t.flight;return i.a.createElement("tr",{className:"details__row"},i.a.createElement("td",{className:"details__item"},(e=a.dateFlight,"".concat(e.getDate()," ").concat(g(e.getMonth())," ").concat(e.getFullYear()))),i.a.createElement("td",{className:"details__item"},a.timeWork),i.a.createElement("td",{className:"details__item"},a.timeFlight),i.a.createElement("td",{className:"details__item"},a.timeBlock),i.a.createElement("td",{className:"details__item"},a.timeNight),i.a.createElement("td",{className:"details__item"},a.timeBiologicalNight),i.a.createElement("td",{className:"details__item"},a.flight),i.a.createElement("td",{className:"details__item"},a.pinType),i.a.createElement("td",{className:"details__item"},a.pin),i.a.createElement("td",{className:"details__item"},a.type),i.a.createElement("td",{className:"details__item"},a.takeoff.name),i.a.createElement("td",{className:"details__item"},a.landing.name))},q=function(t){var e=t.flights,a=t.activeFlight,n=t.isFactData,l=t.currentFlights,r=a.value,c=a.year;return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.b,{className:"go-back",to:"/"},"< \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"),i.a.createElement("h2",{className:"details-header"},"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f","".concat(r?" \u0437\u0430 ".concat(r):""," ").concat("\u0412\u0441\u0435 \u0433\u043e\u0434\u0430"===c?"":c," . \u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e ").concat(n?"\u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c":"\u043f\u043b\u0430\u043d\u043e\u0432\u044b\u043c"," \u0440\u0435\u0439\u0441\u0430\u043c")),i.a.createElement(U,{currentFlights:l}),i.a.createElement("div",{className:"details-container"},i.a.createElement("table",{className:"details",border:"1"},i.a.createElement("tbody",null,i.a.createElement("tr",{className:"details__row"},u.map((function(t){return i.a.createElement("th",{className:"details__title",key:t},t)}))),i.a.createElement("tr",{className:"details__row"},i.a.createElement("td",{className:"details__item details__item--section",colSpan:u.length},"\u041f\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443")),l.map((function(t){return i.a.createElement(J,{key:f(1,100).toString(),flight:t})})),i.a.createElement("tr",{className:"details__row"},i.a.createElement("td",{className:"details__item details__item--section",colSpan:u.length},"\u0421\u0443\u043c\u043c\u0430\u0440\u043d\u043e \u0437\u0430 ",r)),i.a.createElement(V,{currentFlights:l}),i.a.createElement("tr",{className:"details__row"},i.a.createElement("td",{className:"details__item details__item--section",colSpan:u.length},"\u041f\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u0435\u0442\u0430\u043c")),e.sort((function(t,e){return e.dateFlight-t.dateFlight})).map((function(t){return i.a.createElement(J,{key:f(200,300).toString(),flight:t})}))))))},z=function(t){return function(e){Object(I.a)(n,e);var a=Object(M.a)(n);function n(t){var e;return Object(B.a)(this,n),(e=a.call(this,t)).state={value:"\u0412\u0441\u0435 \u0433\u043e\u0434\u0430",isFactData:!1},e._toggleHandler=e._toggleHandler.bind(Object(A.a)(e)),e}return Object(L.a)(n,[{key:"_toggleHandler",value:function(){this.setState({isFactData:!this.state.isFactData})}},{key:"render",value:function(){return i.a.createElement(t,Object.assign({},this.props,{toggleHandler:this._toggleHandler,isFactData:this.state.isFactData}))}}]),n}(i.a.Component)},K=Object(s.b)((function(t){return{flights:t.FLIGHTS.flights,activeFlight:t.FLIGHTS.activeFlight,currentFlights:t.FLIGHTS.currentFlights}}),(function(t){return{setActiveFlight:function(e,a,n){t(w(e,a,n))},setCurrentFlights:function(e,a,n){t(O(e,a,n))}}}))(z((function(t){var e=t.flights,a=t.activeFlight,n=t.setActiveFlight,l=t.toggleHandler,r=t.isFactData,c=t.setCurrentFlights,s=t.currentFlights;return i.a.createElement("div",{className:"App"},i.a.createElement(H.a,null,i.a.createElement(C,null),i.a.createElement(j.a,{exact:!0,path:"/"},i.a.createElement(G,{setActiveFlight:n,toggleHandler:l,isFactData:r,flights:e,setCurrentFlights:c})),i.a.createElement(j.a,{path:"/details"},i.a.createElement(q,{flights:e,activeFlight:a,isFactData:r,currentFlights:s})),i.a.createElement(X,null)))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(74),$=a.n(P).a.create({baseURL:"https://reqres.in/api",timeout:5e3,withCredentials:!1}),Q=Object(c.e)(S,Object(c.d)(Object(c.a)(o.a.withExtraArgument($)),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}));Q.dispatch(T()),r.a.render(i.a.createElement(s.a,{store:Q},i.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},75:function(t,e,a){t.exports=a(197)},84:function(t,e,a){},85:function(t,e,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.4bebb688.chunk.js.map